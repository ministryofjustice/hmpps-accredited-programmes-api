components:
  responses:
  schemas:
    ErrorResponse:
      type: object
      properties:
        status:
          type: integer
          example: 404
        errorCode:
          type: integer
        userMessage:
          type: string
          example: "Not found"
        developerMessage:
          type: string
        moreInfo:
          type: string
      required:
        - status

    ReferralStatusRefData:
      type: object
      properties:
        code:
          type: string
          example: WITHDRAWN
        description:
          type: string
          example: Withdrawn
        hintText:
          type: string
          example: The application has been withdrawn
        confirmationText:
          type: string
          example: I confirm that this person is eligible.
        hasNotes:
          description: flag to show this status has notes text box
          type: boolean
        hasConfirmation:
          description: flag to show this status has confirmation box
          type: boolean
        colour:
          type: string
          example: light-grey
        closed:
          description: flag to show this is a closed status
          type: boolean
        draft:
          description: flag to show this is a draft status
          type: boolean
        hold:
          description: flag to show this is a hold status
          type: boolean
        release:
          description: flag to show this is a release status
          type: boolean
        deselectAndKeepOpen:
          description: flag to show this a bespoke status of deslected and keep open
          type: boolean
        defaultOrder:
          description: sort order for statuses
          type: integer
        notesOptional:
          description: flag to show whether the notes are optional
          type: boolean
      required:
        - code
        - description
        - colour

    ReferralStatusCategory:
      type: object
      properties:
        code:
          type: string
          example: ADMIN
        description:
          type: string
          example: Administrative error
        referralStatusCode:
          type: string
          example: WITHDRAWN
      required:
        - code
        - description
        - referralStatusCode

    ReferralStatusReason:
      type: object
      properties:
        code:
          type: string
          example: DUPLICATE
        description:
          type: string
          example: Duplicate referral
        referralCategoryCode:
          type: string
          example: ADMIN
      required:
        - code
        - description
        - referralCategoryCode

    Course:
      type: object
      properties:
        id:
          type: string
          format: uuid
        identifier:
          type: string
          example: CC
        name:
          type: string
          example: Thinking skills programme
        description:
          type: string
          example: Thinking Skills Programme (TSP) description
        alternateName:
          type: string
          example: 'BNM+'
        displayName:
          type: string
          example: 'Becoming New Me Plus: general violence offence (BNM+)'
        coursePrerequisites:
          type: array
          items:
            $ref: '#/components/schemas/CoursePrerequisite'
        audience:
          type: string
          example: 'Gang offence'
        audienceColour:
          type: string
          example: 'purple'
        withdrawn:
          type: boolean
          example: 'true'
      required:
        - id
        - identifier
        - name
        - coursePrerequisites
        - audience

    CoursePrerequisite:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
      example:
        - name: gender
          description: female
        - name: risk score
          description: 'ORGS: 50+'
        - name: offence type
          description: some offence here
      required:
        - name
        - description


    LineMessage:
      description: "warnings and errors for a line in an uploaded CSV file."
      type: object
      properties:
        lineNumber:
          type: integer
          example: 20
          description: "The number of the line in the CSV file that was rejected. The header line is lineNumber 1, the first line of CSV data is lineNumber 2."
        level:
          type: string
          enum:
            - Warning
            - Error
          description: "One of 'Error' or 'Warning'.  If a line has an Error then the data was not added. If it is a Warning then the line was added but there was a problem that should be corrected."
        message:
          type: string
          example: "No match for course 'Kaizen', prisonId 'BWI'"
          description: "Useful information about the Error or Warning."

    CourseOffering:
      type: object
      properties:
        id:
          type: string
          format: uuid
        organisationId:
          type: string
          example: "MDI"
          description: "The unique identifier associated with the location hosting the offering. For prisons, this is the PrisonId, which is usually three capital letters."
        organisationEnabled:
          type: boolean
          description: "Describes if a referral can be created with an organisation"
        contactEmail:
          type: string
          format: email
          example: "ap-admin@digital.justice.gov.uk"
          description: "The email address of a contact for this offering"
        secondaryContactEmail:
          type: string
          format: email
          example: "ap-admin-2@digital.justice.gov.uk"
          description: "An optional secondary email address of a contact for this offering."
        referable:
          type: boolean
          default: true
        withdrawn:
          type: boolean
          default: false
      required:
        - organisationId
        - contactEmail
        - referable